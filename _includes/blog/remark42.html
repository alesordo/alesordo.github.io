{%- if page.comments != false-%}
  <script>
    theme = getTheme();
    document.getElementById("theme-toggler").addEventListener("click", (function() {
      new_theme = getTheme();
      window.REMARK42.changeTheme(new_theme);
    }));
    var remark_config = {
        host: 'https://remark42.alesordo.com',
        site_id: 'remark42.alesordo',
        theme: theme,
    };
    ! function(e, n) {
      for (var o = 0; o < e.length; o++) {
          var r = n.createElement("script"),
              c = ".js",
              d = n.head || n.body;
          "noModule" in r ? (r.type = "module", c = ".mjs") : r.async = !0, r.defer = !0, r.src = remark_config.host + "/web/" + e[o] + c, d.appendChild(r)
      }
    }(remark_config.components || ["embed"], document);
  </script>

  <div id="remark42"></div>
{%- endif -%}